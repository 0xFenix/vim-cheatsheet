<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vim Cheat Sheet Pro - Tiếng Việt Full</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600&family=Inter:wght@300;400;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a;
            color: #f1f5f9;
        }

        .mono {
            font-family: 'Fira Code', monospace;
        }

        .category-container {
            background: #1e293b;
            border: 1px solid #334155;
            border-radius: 12px;
            overflow: hidden;
            height: fit-content;
        }

        .command-row {
            border-bottom: 1px solid #334155;
            transition: background-color 0.15s ease;
        }

        .command-row:last-child {
            border-bottom: none;
        }

        .command-row:hover {
            background-color: #2d3a4f;
        }

        .key-badge {
            background: #0f172a;
            color: #10b981;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            border: 1px solid #334155;
            white-space: nowrap;
        }

        .category-header {
            background: #2d3a4f;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            border-bottom: 1px solid #334155;
        }

        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0f172a;
        }
        ::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #475569;
        }

        kbd {
            background: #334155;
            border-radius: 3px;
            padding: 1px 4px;
            font-size: 0.85em;
            color: #94a3b8;
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-7xl mx-auto">
        <!-- Header -->
        <header class="text-center mb-12">
            <div class="inline-block p-2 px-4 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-sm font-semibold mb-4">
                <i class="fas fa-terminal mr-2"></i> Phiên bản tối ưu giao diện danh sách
            </div>
            <h1 class="text-4xl md:text-5xl font-extrabold mb-4 tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-blue-500">
                VIM CHEAT SHEET
            </h1>
            <p class="text-slate-400 text-lg max-w-2xl mx-auto">Tra cứu phím tắt chuẩn xác. Nhấn <kbd>/</kbd> để bắt đầu tìm kiếm.</p>
            
            <!-- Search Area -->
            <div class="mt-8 relative max-w-2xl mx-auto">
                <div class="absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none">
                    <i class="fas fa-search text-emerald-500"></i>
                </div>
                <input type="text" id="searchInput" 
                    class="block w-full pl-14 pr-6 py-4 bg-slate-800 border border-slate-700 rounded-2xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none transition-all text-white shadow-lg"
                    placeholder="Tìm kiếm lệnh, phím tắt hoặc mô tả...">
            </div>
        </header>

        <!-- Main Display -->
        <div id="mainGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 items-start">
            <!-- Render via JS -->
        </div>

        <!-- No Results -->
        <div id="noResults" class="hidden text-center py-32">
            <div class="bg-slate-800 inline-block p-8 rounded-full mb-6 border border-slate-700">
                <i class="fas fa-search text-5xl text-slate-600"></i>
            </div>
            <p class="text-slate-400 text-xl font-medium">Không tìm thấy lệnh phù hợp</p>
        </div>

        <!-- Footer -->
        <footer class="mt-20 border-t border-slate-800 pt-8 pb-12 text-center text-slate-500 text-xs uppercase tracking-widest">
            <p>Dựa trên Vim.rtorr.com &bull; Việt hóa & Tối ưu bởi Gemini 2024</p>
        </footer>
    </div>

    <script>
        const vimData = [
            {
                category: "Toàn cục (Global)",
                icon: "fa-globe",
                color: "text-green-400",
                commands: [
                    { key: ":help keyword", desc: "Mở trợ giúp từ khóa", tags: "help tro giup" },
                    { key: ":saveas file", desc: "Lưu file tên mới", tags: "save as luu" },
                    { key: ":close", desc: "Đóng cửa sổ hiện tại", tags: "close dong" },
                    { key: "K", desc: "Tra cứu tài liệu từ", tags: "man page lookup" }
                ]
            },
            {
                category: "Di chuyển (Movement)",
                icon: "fa-arrows-alt",
                color: "text-blue-400",
                commands: [
                    { key: "h j k l", desc: "Trái, Xuống, Lên, Phải", tags: "trai xuong len phai move" },
                    { key: "w / W", desc: "Đầu từ tiếp theo", tags: "word next" },
                    { key: "e / E", desc: "Cuối từ hiện tại", tags: "end word" },
                    { key: "b / B", desc: "Lùi lại đầu từ", tags: "back word" },
                    { key: "0 / ^", desc: "Đầu dòng", tags: "line start dau dong" },
                    { key: "$ / g_", desc: "Cuối dòng", tags: "line end cuoi dong" },
                    { key: "gg / G", desc: "Đầu / Cuối file", tags: "top bottom dau cuoi" },
                    { key: ") / (", desc: "Câu tiếp / trước", tags: "sentence cau" },
                    { key: "} / {", desc: "Đoạn tiếp / trước", tags: "paragraph doan" }
                ]
            },
            {
                category: "Cuộn trang (Scrolling)",
                icon: "fa-scroll",
                color: "text-emerald-400",
                commands: [
                    { key: "Ctrl + f / b", desc: "Lên / Xuống 1 trang", tags: "page down up cuon" },
                    { key: "Ctrl + d / u", desc: "Lên / Xuống nửa trang", tags: "half page down up" },
                    { key: "zz", desc: "Dòng hiện tại vào giữa", tags: "center screen" },
                    { key: "zt / zb", desc: "Đưa lên đầu / cuối", tags: "top bottom screen" }
                ]
            },
            {
                category: "Chỉnh sửa (Editing)",
                icon: "fa-edit",
                color: "text-purple-400",
                commands: [
                    { key: "i / I", desc: "Chèn trước / đầu dòng", tags: "insert" },
                    { key: "a / A", desc: "Chèn sau / cuối dòng", tags: "append" },
                    { key: "o / O", desc: "Dòng mới dưới / trên", tags: "open line" },
                    { key: "r / R", desc: "Thay 1 ký tự / Chế độ thay", tags: "replace thay the" },
                    { key: "u / Ctrl+r", desc: "Undo / Redo", tags: "hoan tac" },
                    { key: "cc / cw / c$", desc: "Sửa dòng / từ / đoạn", tags: "change" },
                    { key: "J", desc: "Nối dòng dưới lên", tags: "join lines" },
                    { key: ".", desc: "Lặp lại lệnh cuối", tags: "repeat" }
                ]
            },
            {
                category: "Cắt, Sao chép & Dán",
                icon: "fa-copy",
                color: "text-pink-400",
                commands: [
                    { key: "yy", desc: "Sao chép 1 dòng", tags: "copy copy" },
                    { key: "yw", desc: "Sao chép 1 từ", tags: "copy word" },
                    { key: "p / P", desc: "Dán sau / trước con trỏ", tags: "paste dan" },
                    { key: "dd / dw", desc: "Xóa dòng / từ", tags: "delete cut xoa" },
                    { key: "D", desc: "Xóa đến hết dòng", tags: "delete line" },
                    { key: "x", desc: "Xóa ký tự hiện tại", tags: "delete char" }
                ]
            },
            {
                category: "Chế độ Visual",
                icon: "fa-mouse-pointer",
                color: "text-yellow-400",
                commands: [
                    { key: "v", desc: "Chọn ký tự", tags: "select visual" },
                    { key: "V", desc: "Chọn dòng", tags: "select lines" },
                    { key: "Ctrl + v", desc: "Chọn khối dọc", tags: "select block" },
                    { key: "aw / iw", desc: "Chọn cả từ / trong từ", tags: "text object" }
                ]
            },
            {
                category: "Tìm & Thay thế",
                icon: "fa-search",
                color: "text-orange-400",
                commands: [
                    { key: "/pattern", desc: "Tìm kiếm xuôi", tags: "find search" },
                    { key: "?pattern", desc: "Tìm kiếm ngược", tags: "find backward" },
                    { key: "n / N", desc: "Kết quả kế tiếp / trước", tags: "next previous" },
                    { key: ":%s/old/new/g", desc: "Thay thế toàn bộ file", tags: "replace" },
                    { key: ":%s/old/new/gc", desc: "Thay thế có hỏi lại", tags: "confirm replace" }
                ]
            },
            {
                category: "Dấu & Macro",
                icon: "fa-bookmark",
                color: "text-indigo-400",
                commands: [
                    { key: "qa", desc: "Ghi macro vào kho 'a'", tags: "record macro" },
                    { key: "q", desc: "Dừng ghi macro", tags: "stop macro" },
                    { key: "@a", desc: "Chạy macro kho 'a'", tags: "play macro" },
                    { key: "ma", desc: "Đánh dấu vị trí 'a'", tags: "set mark" },
                    { key: "'a", desc: "Nhảy tới dấu 'a'", tags: "jump mark" }
                ]
            },
            {
                category: "Lưu & Thoát",
                icon: "fa-save",
                color: "text-red-400",
                commands: [
                    { key: ":w", desc: "Lưu file", tags: "save write" },
                    { key: ":wq / :x", desc: "Lưu và thoát", tags: "save quit" },
                    { key: ":q / :q!", desc: "Thoát / Ép thoát", tags: "exit quit" },
                    { key: "ZZ", desc: "Lưu thoát nhanh", tags: "quick save exit" }
                ]
            }
        ];

        const mainGrid = document.getElementById('mainGrid');
        const searchInput = document.getElementById('searchInput');
        const noResults = document.getElementById('noResults');

        function cleanString(str) {
            return str.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/đ/g, "d");
        }

        function render(dataFilter = "") {
            const filter = cleanString(dataFilter);
            mainGrid.innerHTML = "";
            let totalFound = 0;

            vimData.forEach(cat => {
                const filteredCommands = cat.commands.filter(cmd => 
                    cleanString(cmd.key).includes(filter) || 
                    cleanString(cmd.desc).includes(filter) ||
                    cleanString(cmd.tags).includes(filter)
                );

                if (filteredCommands.length > 0) {
                    totalFound += filteredCommands.length;
                    const container = document.createElement('div');
                    container.className = "category-container";
                    container.innerHTML = `
                        <div class="category-header">
                            <i class="fas ${cat.icon} ${cat.color} w-5 text-center"></i>
                            <h2 class="font-bold text-slate-200">${cat.category}</h2>
                        </div>
                        <div class="flex flex-col">
                            ${filteredCommands.map(cmd => `
                                <div class="command-row p-4 flex justify-between items-center gap-4">
                                    <span class="text-slate-300 text-sm leading-tight">${cmd.desc}</span>
                                    <span class="key-badge mono text-xs">${cmd.key}</span>
                                </div>
                            `).join('')}
                        </div>
                    `;
                    mainGrid.appendChild(container);
                }
            });
            noResults.classList.toggle('hidden', totalFound > 0);
        }

        searchInput.addEventListener('input', (e) => render(e.target.value));
        window.addEventListener('keydown', (e) => {
            if (e.key === '/' && document.activeElement !== searchInput) {
                e.preventDefault(); searchInput.focus();
            }
        });
        render();
    </script>
</body>
</html>
